// Пример ответа от API
const exampleResponse = {
  status: "success",
  data: {
    answer:
      "```latex\n\\begin{aligned}\n&\t\\textbf{Введение:} \\\\\n&\t\\text{Лето — это удивительное время, когда у нас появляется возможность отдохнуть от учёбы,} \\\\\n&\t\\text{провести время с друзьями и заняться любимыми увлечениями.} \\\\\n&\t\\text{В этом сочинении я расскажу, как я провёл своё лето, какие приключения меня ожидали} \\\\\n&\t\\text{и чему я научился.} \\\\\n\n&\t\\textbf{Основная часть:} \\\\\n&\t\\text{Лето началось с того, что я поехал на дачу к бабушке.} \\\\\n&\t\\text{Каждое утро я просыпался под пение птиц и наслаждался свежим воздухом.} \\\\\n&\t\\text{Мы с бабушкой вместе ухаживали за огородом, собирали овощи и фрукты.} \\\\\n&\t\\text{Это было не только полезно, но и очень интересно!} \\\\\n\n&\t\\text{После дачи я провёл несколько недель в лагере с друзьями.} \\\\\n&\t\\text{Каждый день нас ждали новые приключения: походы, игры на свежем воздухе,} \\\\\n&\t\\text{конкурсы и вечерние костры.} \\\\\n&\t\\text{Я познакомился с новыми людьми и завёл много друзей.} \\\\\n\n&\t\\text{Также я посетил несколько интересных мест с родителями.} \\\\\n&\t\\text{Мы ездили на экскурсии в музей и зоопарк.} \\\\\n&\t\\text{Я узнал много нового о природе и животных.} \\\\\n&\t\\text{Эти поездки запомнятся мне надолго!} \\\\\n\n&\t\\textbf{Заключение:} \\\\\n&\t\\text{Таким образом, моё лето было насыщенным и интересным.} \\\\\n&\t\\text{Я провёл время с близкими, научился новому и получил массу положительных эмоций.} \\\\\n&\t\\text{Лето — это время, когда сбываются мечты и происходят настоящие чудеса!} \\\\\n&\t\\text{Я надеюсь, что следующее лето будет не менее увлекательным.}\n\\end{aligned}\n```",
  },
  message: "Task solved",
};


// Элемент для отображения ответа
const container = document.getElementById("output");

// Обработка и отображение ответа
function renderResponse(response) {
  if (response.status === "success" && response.data?.answer) {
    const rawAnswer = response.data.answer;

    // Очистка контейнера
    container.innerHTML = "";

    try {
      // Рендеринг формулы с помощью KaTeX
      katex.render(rawAnswer, container, {
        throwOnError: false, // Игнорировать ошибки
        displayMode: true, // Блочный режим
      });
    } catch (error) {
      console.error("Ошибка рендера формулы:", error);
      container.textContent = "Ошибка отображения формулы";
    }
  } else {
    container.textContent = "Ошибка API: " + response.message;
  }
}

// Вызов функции рендера
// renderResponse(exampleResponse);
